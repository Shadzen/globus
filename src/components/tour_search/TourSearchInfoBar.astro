---
import arrowUpSmall from '@/assets/icons/arrow-up-small.svg'
import arrowDownSmall from '@/assets/icons/arrow-down-small.svg'

interface Props {
    userType?: 'tourist' | 'agent'
}

const { userType = 'agent' } = Astro.props
const base = import.meta.env.BASE_URL

const infoData = {
    date: '12.12.2025',
    eur: '96.19',
    usd: '82.12',
}

const buttons = [
    { label: 'Данные агентства', href: `${base}${userType}/tour_search_data/` },
    { label: 'Заявки', href: `${base}${userType}/tour_search_requests/` },
    { label: 'Поиск', href: `${base}${userType}/tour_search/` },
]
---

<div class="tour-search-info-bar">
    <div class="tour-search-info-bar-container">
        <div class="tour-search-info-items">
            <div class="tour-search-info-field">
                <span class="tour-search-info-label">Дата</span>
                <div class="tour-search-info-value-wrapper">
                    <p class="tour-search-info-value">{infoData.date}</p>
                    <div class="tour-search-info-underline"></div>
                </div>
            </div>

            <div class="tour-search-info-field">
                <span class="tour-search-info-label">EUR</span>
                <div class="tour-search-info-value-wrapper">
                    <div class="tour-search-info-value-with-icon">
                        <p class="tour-search-info-value">{infoData.eur}</p>
                        <img src={arrowUpSmall.src} alt="↑" class="tour-search-info-icon" />
                    </div>
                    <div class="tour-search-info-underline"></div>
                </div>
            </div>

            <div class="tour-search-info-field">
                <span class="tour-search-info-label">USD</span>
                <div class="tour-search-info-value-wrapper">
                    <div class="tour-search-info-value-with-icon">
                        <p class="tour-search-info-value">{infoData.usd}</p>
                        <img src={arrowDownSmall.src} alt="↓" class="tour-search-info-icon" />
                    </div>
                    <div class="tour-search-info-underline"></div>
                </div>
            </div>
        </div>

        <div class="tour-search-info-buttons">
            {
                buttons.map((button) => (
                    <a href={button.href} class="tour-search-info-button">
                        {button.label}
                    </a>
                ))
            }
        </div>
    </div>
</div>

<style lang="scss" is:global>
    .tour-search-info-bar {
        background-color: $color-alternate;
        @include adaptive(padding-top, 44, 140);
        @include adaptive(padding-bottom, 44, 30);
        width: 100%;

        .tour-search-info-bar-container {
            @include adaptive(padding-left, 440, 15);
            @include adaptive(padding-right, 100, 15);
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            @include adaptive(gap, 20, 60);

            @include mobile {
                flex-direction: column;
                align-items: stretch;
            }
        }

        .tour-search-info-items {
            display: flex;
            @include adaptive(gap, 60, 30);
            align-items: center;

            @include mobile {
                flex-direction: column;
                align-items: stretch;
            }
        }

        .tour-search-info-field {
            display: flex;
            flex-direction: column;
            @include adaptive(gap, 18, 16);
            @include adaptive(min-width, 179, 0);

            @include mobile {
                min-width: 0;
            }
        }

        .tour-search-info-label {
            @include font-circe-regular;
            @include adaptive(font-size, 16, 14);
            color: rgba($color-main, 0.55);
            line-height: 1.6;
            text-transform: uppercase;
            @include adaptive(letter-spacing, 3.2, 2.8);
        }

        .tour-search-info-value-wrapper {
            display: flex;
            flex-direction: column;
            @include adaptive(gap, 12, 10);
        }

        .tour-search-info-value-with-icon {
            display: flex;
            align-items: center;
            @include adaptive(gap, 10, 8);
        }

        .tour-search-info-value {
            @include font-circe-light;
            @include adaptive(font-size, 26, 22);
            color: $color-main;
            line-height: 1.2;
            margin: 0;
        }

        .tour-search-info-icon {
            @include adaptive(width, 8, 6);
            @include adaptive(height, 17, 14);
            display: block;
        }

        .tour-search-info-underline {
            width: 100%;
            height: 1px;
            background-color: $color-accent;
        }

        .tour-search-info-buttons {
            display: flex;
            @include adaptive(gap, 37, 20);
            align-items: center;
            flex-wrap: wrap;

            @include mobile {
                flex-direction: column;
                width: 100%;
            }
        }

        .tour-search-info-button {
            @include button-sized;
            @include button-outline;
            color: $color-main;
        }
    }
</style>
