---
import arrowIcon from '@/assets/icons/arrow-14-accent.svg'
import companyLogo from '@/assets/images/tour_tariff/company-logo-1.png'

interface Flight {
    airline: string
    airlineLogo: string
    flightNumber: string
    route: string
    schedule: string
}

const additionalServices = [
    'Трансфер индивидуальный\nАэропорт – Отель – Аэропорт',
    'Виза в Грецию (170 евро сервисный + консульский сбор на человека, оформление визы под тур 6000 рублей на человека)',
    'Ночь в Стамбуле на обратном пути (возможно забронировать в транзитном отеле или в городе), стоимость по запросу',
]

const flights: Flight[] = [
    {
        airline: 'Turkish Airlines',
        airlineLogo: companyLogo.src,
        flightNumber: 'TK-1893',
        route: 'Стамбул (18:55) — Салоники (20:15)',
        schedule: 'Ежедневно',
    },
    {
        airline: 'Turkish Airlines',
        airlineLogo: companyLogo.src,
        flightNumber: 'TK-1894',
        route: 'Салоники (21:05) — Стамбул (22:35)',
        schedule: 'Ежедневно',
    },
]

const base = import.meta.env.BASE_URL
---

<section class="tour-additional-section">
    <div class="tour-additional-container">
        <div class="divider"></div>

        <h2 class="tour-additional-title">Дополнительно оплачивается:</h2>

        <div class="tour-additional-services">
            {
                additionalServices.map((service) => (
                    <div class="tour-additional-service">
                        <p class="tour-additional-service-text">{service}</p>
                    </div>
                ))
            }
        </div>

        <div class="tour-additional-link-wrapper">
            <a href="#" class="tour-additional-link">
                <span class="tour-additional-link-icon">
                    <img src={arrowIcon.src} alt="" />
                </span>
                <span class="tour-additional-link-text">Подробнее</span>
            </a>
        </div>

        <div class="divider"></div>

        <h3 class="tour-flights-title">Полетная программа Стамбул — Салоники — Стамбул:</h3>

        <div class="tour-flights-table">
            <div class="tour-flights-header">
                <div class="tour-flights-header-cell">Авиакомпания</div>
                <div class="tour-flights-header-cell">Рейс</div>
                <div class="tour-flights-header-cell">Направление</div>
                <div class="tour-flights-header-cell">Вылеты</div>
            </div>

            <div class="divider"></div>

            {
                flights.map((flight) => (
                    <>
                        <div class="tour-flights-row">
                            <div class="tour-flights-cell">
                                <img
                                    src={flight.airlineLogo}
                                    alt={flight.airline}
                                    class="tour-flights-logo"
                                />
                            </div>
                            <div class="tour-flights-cell">
                                <span class="tour-flights-text">{flight.flightNumber}</span>
                            </div>
                            <div class="tour-flights-cell">
                                <span class="tour-flights-text">{flight.route}</span>
                            </div>
                            <div class="tour-flights-cell">
                                <span class="tour-flights-text">{flight.schedule}</span>
                            </div>
                        </div>
                        <div class="divider" />
                    </>
                ))
            }
        </div>

        <div class="tour-additional-footer">
            <a href={`${base}agent/country`} class="tour-additional-button">
                <span>Вернуться к описанию страны</span>
            </a>
        </div>
    </div>
</section>

<style lang="scss" is:global>
    .tour-additional-section {
        @include adaptive(margin-top, 120, 60);

        .tour-additional-container {
            @include side-paddings;
            width: 100%;
        }

        .divider {
            @include adaptive(margin-top, 40, 20);
            @include adaptive(margin-bottom, 40, 20);
        }

        .tour-additional-title {
            @include adaptive(font-size, 32, 40);
            @include adaptive(margin-bottom, 20, 20);
        }

        .tour-additional-services {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            @include adaptive(column-gap, 20, 20);

            @include mobile {
                grid-template-columns: 1fr;
                @include adaptive(row-gap, 30, 20);
            }
        }

        .tour-additional-service {
            display: flex;
            flex-direction: column;
            @include adaptive(gap, 16, 12);
        }

        .tour-additional-service-text {
            @include font-circe-light;
            color: $color-alternate;
            @include adaptive(font-size, 26, 18);
            line-height: 1.2;
            margin: 0;
            white-space: pre-line;
        }

        .tour-additional-link-wrapper {
            display: flex;
            justify-content: center;
            @include adaptive(margin-top, 30, 20);
        }

        .tour-additional-link {
            display: flex;
            align-items: center;
            @include adaptive(gap, 14, 10);
            text-decoration: none;
            transition: opacity 0.3s;

            &:hover {
                opacity: 0.7;
            }
        }

        .tour-additional-link-icon {
            @include flex-center;
            @include adaptive(width, 75, 60);
            @include adaptive(height, 75, 60);

            img {
                width: 100%;
                height: 100%;
                object-fit: contain;
                object-position: center;
            }
        }

        .tour-additional-link-text {
            @include font-circe-light;
            color: $color-accent;
            @include adaptive(font-size, 26, 20);
            line-height: 1.2;
        }

        .tour-flights-title {
            @include font-kudry-sans;
            font-weight: 300;
            color: $color-alternate;
            @include adaptive(font-size, 28, 20);
            line-height: 1.2;
            text-align: center;
            text-transform: uppercase;
            @include adaptive(margin-top, 120, 60);
            @include adaptive(margin-bottom, 60, 40);
        }

        .tour-flights-table {
            display: flex;
            flex-direction: column;
        }

        .tour-flights-header {
            display: grid;
            grid-template-columns: 184px 1fr 2fr 1fr;
            @include adaptive(column-gap, 100, 20);

            @include mobile {
                display: none;
            }
        }

        .tour-flights-header-cell {
            @include font-circe-regular;
            color: $color-alternate;
            opacity: 0.6;
            @include adaptive(font-size, 20, 16);
            line-height: 1.2;
        }

        .tour-flights-row {
            display: grid;
            grid-template-columns: 184px 1fr 2fr 1fr;
            @include adaptive(column-gap, 100, 20);
            @include adaptive(padding-top, 20, 16);
            @include adaptive(padding-bottom, 20, 16);
            align-items: center;

            @include mobile {
                grid-template-columns: 1fr;
                @include adaptive(row-gap, 12, 10);
            }
        }

        .tour-flights-cell {
            display: flex;
            align-items: center;
        }

        .tour-flights-logo {
            @include adaptive(height, 50, 40);
            width: auto;
        }

        .tour-flights-text {
            @include font-circe-light;
            color: $color-alternate;
            @include adaptive(font-size, 26, 18);
            line-height: 1.2;
        }

        .tour-additional-footer {
            display: flex;
            justify-content: center;
        }

        .tour-additional-button {
            @include button-sized;
        }
    }
</style>
