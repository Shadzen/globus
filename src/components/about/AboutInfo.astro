---
// src/components/about/AboutInfo.astro
import { Image } from 'astro:assets'
import type { ImageMetadata } from 'astro'
import aboutBig1 from '@/assets/images/about/about-grid-big-1.jpg'
import aboutBig2 from '@/assets/images/about/about-grid-big-2.jpg'
import aboutBig3 from '@/assets/images/about/about-grid-big-3.jpg'
import teamMember1 from '@/assets/images/about/about-grid-small-1.jpg'
import teamMember2 from '@/assets/images/about/about-grid-small-2.jpg'
import teamMember3 from '@/assets/images/about/about-grid-small-3.jpg'
import teamMember4 from '@/assets/images/about/about-grid-small-4.jpg'
import SwiperNavButtons from '@/components/common/SwiperNavButtons.astro'

interface InfoCard {
    id: number
    title: string
    description: string
    image: ImageMetadata
}

interface TeamMember {
    id: number
    name: string
    position: string
    image: ImageMetadata
}

const topCards: InfoCard[] = [
    {
        id: 1,
        title: '30 лет опыта — тысячи открытых горизонтов',
        description:
            'Эксклюзивные статьи и подборки в одном месте. Мы создаём путешествия мечты, помогая тысячам туристов открывать мир с комфортом и удовольствием',
        image: aboutBig1,
    },
    {
        id: 2,
        title: 'Всегда в курсе последних<br />новостей в мире путешествий',
        description:
            'Эксклюзивные статьи и подборки в одном месте. Мы создаём путешествия мечты, помогая тысячам туристов открывать мир с комфортом и удовольствием',
        image: aboutBig2,
    },
    {
        id: 3,
        title: 'Мы ищем маршруты,<br />которые вдохновляют',
        description:
            'Эксклюзивные статьи и подборки в одном месте. Мы создаём путешествия мечты, помогая тысячам туристов открывать мир с комфортом и удовольствием',
        image: aboutBig3,
    },
]

const teamMembers: TeamMember[] = [
    {
        id: 1,
        name: 'Марина Васильева',
        position: 'CEO',
        image: teamMember1,
    },
    {
        id: 2,
        name: 'Марина Васильева',
        position: 'Руководитель отдела продаж',
        image: teamMember2,
    },
    {
        id: 3,
        name: 'Марина Васильева',
        position: 'эксперт по семейному туризму',
        image: teamMember3,
    },
    {
        id: 4,
        name: 'Марина Васильева',
        position: 'эксперт по внутреннему туризму',
        image: teamMember4,
    },
    {
        id: 5,
        name: 'Марина Васильева',
        position: 'CEO',
        image: teamMember1,
    },
    {
        id: 6,
        name: 'Марина Васильева',
        position: 'Руководитель отдела продаж',
        image: teamMember2,
    },
]
---

<section class="about-info">
    <div class="section-container _overflow-cards">
        <div class="cards-top-grid">
            {
                topCards.map((card, index) => (
                    <div class="card">
                        <span class="card-image">
                            <Image src={card.image} alt={card.title} loading="lazy" quality={100} />
                        </span>
                        <h3 class="card-title" set:html={card.title} />
                        {index !== 2 && <p class="card-description" set:html={card.description} />}
                    </div>
                ))
            }
        </div>

        <div class="stripe-section">
            <div class="dark-stripe">
                <h2 class="dark-stripe-title">команда</h2>
                <SwiperNavButtons />
            </div>

            <div class="cards-bottom-grid-wrapper swiper">
                <div class="cards-bottom-grid swiper-wrapper">
                    {
                        teamMembers.map((member) => (
                            <div class="card _second swiper-slide">
                                <span class="card-image">
                                    <Image
                                        src={member.image}
                                        alt={member.name}
                                        loading="lazy"
                                        quality={100}
                                    />
                                </span>
                                <span class="card-content">
                                    <span class="card-category">{member.position}</span>
                                    <h3 class="card-title" set:html={member.name} />
                                </span>
                            </div>
                        ))
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<style lang="scss" is:global>
    .about-info {
        @include adaptive(margin-top, 120, 60);

        .cards-top-grid {
            .card {
                &:nth-child(1) {
                    @include adaptive(width, 54%, 100%);

                    .card-description {
                        @include adaptive(padding-right, 62, 0);

                        @include desktop {
                            text-align: right;
                        }
                    }
                }
                &:nth-child(2) {
                    @include adaptive(width, 41.1%, 100%);
                    @include adaptive(margin-top, 148, 0);

                    .card-description {
                        @include adaptive(padding-left, 212, 0);
                        @include adaptive(padding-right, 114, 0);
                    }
                }
                &:nth-child(3) {
                    @include adaptive(width, 38.1%, 100%);
                    @include adaptive(margin-top, -130, 0);
                    @include adaptive(margin-left, 274, 0);

                    .card-title {
                        color: $color-globus-cream;
                    }
                }
            }
        }

        .stripe-section {
            @include adaptive(margin-top, -280, -280);
            @include adaptive(padding-bottom, 80, 80);
        }

        .dark-stripe {
            @include adaptive(height, 760, 900);
            @include flex-center;
            @include adaptive(padding-bottom, 0, 280);
        }

        .swiper-nav {
            @include center-y;
            @include adaptive(right, 100, 15);
        }

        .cards-bottom-grid-wrapper {
            @include adaptive(margin-top, -292, -550);
        }

        .card._second {
            @include adaptive(max-width, 418, 262);

            .card-image {
                @include adaptive(height, 461, 290);
            }

            .card-title {
                width: 50%;

                @include mobile {
                    color: $color-globus-cream;
                }
            }
        }
    }
</style>
