---
import { Image } from 'astro:assets'
import type { ImageMetadata } from 'astro'
import photo1 from '@/assets/images/news_type_two/news-type-two-photo-1.jpg'
import photo2 from '@/assets/images/news_type_two/news-type-two-photo-2.jpg'
import photo3 from '@/assets/images/news_type_two/news-type-two-photo-3.jpg'
import photo4 from '@/assets/images/news_type_two/news-type-two-photo-4.jpg'

interface HotelOffer {
    id: number
    image: ImageMetadata
    badge: string
    title: string
    price: string
    position?: 1 | 2 | 3 | 4
}

const offers: HotelOffer[] = [
    {
        id: 1,
        image: photo1,
        badge: 'Ультра все включено',
        title: 'Akra Antalya 5*',
        price: 'от 134 900 руб.',
    },
    {
        id: 2,
        image: photo2,
        badge: 'Ультра все включено',
        title: 'Kaya Belek 5*',
        price: 'от 140 300 руб.',
        position: 1,
    },
    {
        id: 3,
        image: photo3,
        badge: 'Ультра все включено',
        title: 'Dobedan Exclusive Hotel & Spa 5*',
        price: 'от 162 600 руб.',
        position: 2,
    },
    {
        id: 4,
        image: photo4,
        badge: 'Ультра все включено',
        title: 'Rixos Park Belek 5*',
        price: 'от 168 700 руб.',
    },
]
---

<section class="hotel-offers-section">
    <div class="section-container">
        <h2 class="offers-title">Лучшие предложения с вылетом из<br />Новосибирска 22.10 на 9 ночей:</h2>

        <div class="offers-grid">
            {offers.map((offer) => (
                <div class={`card ${offer.position ? `_pos-${offer.position}` : ''}`}>
                    <div class="card-image">
                        <Image
                            src={offer.image}
                            alt={offer.title}
                            loading="lazy"
                            quality={100}
                        />
                        <span class="card-badge">{offer.badge}</span>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">{offer.title}</h3>
                        <p class="card-price">{offer.price}</p>
                        <button class="button _sized" type="button">
                            Забронировать
                        </button>
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>

<style lang="scss" is:global>
    .hotel-offers-section {
        @include adaptive(margin-top, 120, 60);

        .offers-title {
            @include adaptive(margin-bottom, 80, 50);
        }

        .offers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            @include adaptive(gap, 100, 40);
            grid-auto-rows: auto;

            @include mobile {
                grid-template-columns: 1fr;
            }
        }

        .card {
            &._pos-1 {
                @include adaptive(margin-top, 100, 0);
            }
            &._pos-2 {
                @include adaptive(margin-top, -100, 0);
            }
        }

        .card-image {
            @include adaptive(height, 340, 231);
        }

        .card-badge {
            position: absolute;
            @include adaptive(left, 36, 20);
            @include adaptive(bottom, 36, 20);
        }

        .card-title {
            @include adaptive(font-size, 32, 26);
        }

        .button {
            @include adaptive(width, 278, 100%);
            align-self: flex-start;
        }
    }
</style>
