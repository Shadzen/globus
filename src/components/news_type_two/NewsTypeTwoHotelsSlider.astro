---
import type { ImageMetadata } from 'astro'
import HotelsSlider from '@/components/best_hotels/HotelsSlider.astro'

import photo1 from '@/assets/images/best_hotels/best-hotel-1.jpg'
import photo2 from '@/assets/images/best_hotels/best-hotel-2.jpg'
import photo3 from '@/assets/images/best_hotels/best-hotel-3.jpg'
import photo4 from '@/assets/images/best_hotels/best-hotel-4.jpg'

interface Hotel {
    id: number
    name: string
    image: ImageMetadata
    price: string
    badge: string
    href: string
}

interface Props {
    userType?: 'tourist' | 'agent'
}

const { userType = 'tourist' } = Astro.props
const base = import.meta.env.BASE_URL

const hotels: Hotel[] = [
    {
        id: 1,
        name: 'Akra Antalya 5*',
        image: photo1,
        price: 'от 134 900 руб.',
        badge: 'Ультра все включено',
        href: `${base}${userType}/about_hotel`,
    },
    {
        id: 2,
        name: 'Kaya Belek 5*',
        image: photo2,
        price: 'от 140 300 руб.',
        badge: 'Ультра все включено',
        href: `${base}${userType}/about_hotel`,
    },
    {
        id: 3,
        name: 'Dobedan Exclusive Hotel & Spa 5*',
        image: photo3,
        price: 'от 162 600 руб.',
        badge: 'Ультра все включено',
        href: `${base}${userType}/about_hotel`,
    },
    {
        id: 4,
        name: 'Rixos Park Belek 5*',
        image: photo4,
        price: 'от 168 700 руб.',
        badge: 'Ультра все включено',
        href: `${base}${userType}/about_hotel`,
    },
    {
        id: 5,
        name: 'Kaya Belek 5*',
        image: photo2,
        price: 'от 140 300 руб.',
        badge: 'Ультра все включено',
        href: `${base}${userType}/about_hotel`,
    },
]

interface IncludedItem {
    id: number
    text: string
}

const includedItems: IncludedItem[] = [
    {
        id: 1,
        text: 'Авиаперелет Новосибирск-Анталья-Новосибирск\nна регулярном рейсе S7',
    },
    {
        id: 2,
        text: 'Проживание в отеле\nс выбранным типом\nпитания',
    },
    {
        id: 3,
        text: 'Медицинская\nстраховка',
    },
    {
        id: 4,
        text: 'Групповой\nтрансфер',
    },
]
---

<section class="news-hotels-section">
    <div class="news-hotels-container">
        <h2 class="section-main-title">Лучшие предложения с вылетом<br />из Новосибирска 22.10 на 9 ночей:</h2>

        <HotelsSlider hotels={hotels} />

        <h3 class="included-title">В стоимость тура на 1 человека<br />при двухместном размещении входит:</h3>

        <ul class="included-list">
            {includedItems.map((item) => (
                <li class="included-item">
                    <span class="included-bullet"></span>
                    <p class="included-text">{item.text}</p>
                </li>
            ))}
        </ul>
    </div>
</section>

<style lang="scss" is:global>
    .news-hotels-section {
        @include adaptive(margin-top, 120, 60);

        .news-hotels-container {
            width: 100%;
        }

        .section-main-title {
            @include adaptive(margin-bottom, 60, 40);
        }

        .included-title {
            @include font-kudry-sans;
            @include adaptive(font-size, 28, 22);
            line-height: 1.2;
            text-transform: uppercase;
            color: $color-alternate;
            font-weight: 300;
            text-align: center;
            @include adaptive(margin-top, 100, 60);
            @include adaptive(margin-bottom, 48, 32);
        }

        .included-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            @include adaptive(gap, 40, 24);
            @include side-paddings;

            @include mobile {
                grid-template-columns: 1fr;
            }
        }

        .included-item {
            display: flex;
            @include adaptive(gap, 18, 12);
            align-items: flex-start;
        }

        .included-bullet {
            @include adaptive(width, 12, 10);
            @include adaptive(height, 12, 10);
            @include adaptive(min-width, 12, 10);
            border-radius: 50%;
            background-color: $color-accent;
            @include adaptive(margin-top, 8, 6);
        }

        .included-text {
            @include font-circe-regular;
            @include adaptive(font-size, 20, 16);
            line-height: 1.2;
            color: $color-alternate;
            white-space: pre-line;
        }
    }
</style>
